import { ADD_ALERT, DELETE_ALERT } from 'modules/alert/store/alertActions'
import { ALERT_VISIBLE_TIME } from 'constants/index'

function getDeleteAlertAction() {
    return {type: DELETE_ALERT}
}

export function getAddAlertAction(alertType, alertMessage) {
    return async dispatch => {
        setTimeout(()=> {
            dispatch(getDeleteAlertAction())
        }, ALERT_VISIBLE_TIME)
        setTimeout(() => {
            dispatch({type: ADD_ALERT, payload: { alertType, alertMessage }})
        }, 1)
    }
}
